version: '3'

services:
    pgdocker:
        image: postgres
        ports:
          - '5433:5432'
        environment:
          POSTGRES_PASSWORD: 'root'

    scraper-dev:
        build:
          context: .
          dockerfile: scraper.dev.Dockerfile
        image: scraper-dev
        environment:
          sleep_interval: "60"
          random_order: ""
          db_conn_string: "postgresql://postgres:root@pgdocker:5432"
          
          # This is for the GUI
          VNC_SERVER_PASSWORD: 'password'

          # Enables development mode. Leave empty for production
          development: 'development'
        ports:
          - '5900:5900'
        user: apps
        privileged: true
        depends_on:
          - pgdocker

version: '3.4'

services:
    data_lake:
        build:
          context: .
          dockerfile: data_lake.Dockerfile
        ports:
          - '5433:5433'

    scraper_dev:
        build:
          context: .
          dockerfile: scraper.Dockerfile
          target: scraper_dev
        environment:
          sleep_interval: "600"
          random_order: ""
          
          # This is for the GUI
          VNC_SERVER_PASSWORD: 'password'

          # Enables development mode. Leave empty for production
          development: 'development'
        ports:
          - '5900:5900'
        user: app
        privileged: true
        depends_on:
          - data_lake
        volumes:
          - ./src/extracted_data:/opt/scraper/extracted_data
          - ./logs:/var/log/scraper
